var strResponse,arrLines;function OktaWidget(){const e=new OktaSignIn({logo:"https://www.okta.com/sites/default/files/media/image/2021-03/Logo_Okta_Blue_RGB.png",language:"ja",colors:{brand:"#00297A"},i18n:{en:{"primaryauth.title":"Log In","primaryauth.submit":"Log In"}},features:{registration:!0,rememberMe:!1},baseUrl:"https://csm-apac.oktapreview.com",redirectUri:"https://mortpanda.github.io/okta-siw-hibp-check/",clientId:"0oa17rxjm2Fgi4yT31d7",authParams:{issuer:"https://csm-apac.oktapreview.comoauth2/default",issuer:"default",responseType:["token","id_token"],responseMode:"fragment",display:"page",scope:["openid","email","profile"]},registration:{parseSchema:function(e,t,r){console.log(e.profileSchema),t(e)},preSubmit:function(e,t,r){const o=document.getElementById("console");document.getElementById("console").innerHTML=" ",document.getElementsByName("email"),document.getElementsByName("firstName"),document.getElementsByName("lastName");var n=SHA1(document.getElementsByName("password")[0].value),a=n.substring(0,5),s=n.substring(5,999);console.log(a),console.log(s);var c=new XMLHttpRequest;c.responseType="text",c.onreadystatechange=function(){if(4==this.readyState&&200==this.status){for(hbipres=this.responseText,lines=hbipres.split("\n"),document.getElementById("console").innerHTML+="<br>",i=0;i<lines.length;i++)document.getElementById("console").innerHTML+="&nbsp&nbsp"+lines[i],(arrLines=lines[i].split(":"))[0].toUpperCase(),s.toUpperCase(),o.scrollTop=o.scrollHeight;document.getElementById("console").innerHTML+="&nbsp&nbsp<br><br><br><br><h1>  \u5165\u529b\u3055\u308c\u305f\u30d1\u30b9\u30b3\u30fc\u30c9\u306fHIBMP\u4e0a\u3067 <font color=red>"+arrLines[1]+"<font color=white> \u56de\u6f0f\u6d29\u3057\u3066\u3044\u308b\u5c65\u6b74\u304c\u3042\u308a\u307e\u3059\u3002</h1>",o.scrollTop=o.scrollHeight}},c.open("GET","https://api.pwnedpasswords.com/range/"+a,!0),c.send()},postSubmit:function(e,t,r){t(e)}}});e.on("afterRender",function(e){if(console.log(e.controller),"registration"==e.controller){var t=document.getElementsByName("firstName")[0],r=document.getElementsByName("lastName")[0],o=document.getElementsByName("email")[0],n=document.getElementsByName("password")[0],a=document.getElementsByName("acceptedPrivacyPolicy")[0],s=n.parentNode.parentNode.parentNode,i=t.parentNode.parentNode.parentNode,c=r.parentNode.parentNode.parentNode,l=o.parentNode.parentNode.parentNode;a.parentNode.parentNode.parentNode.style.display="none",$(c).insertAfter(i),$(l).insertAfter(c),$(s).insertAfter(l),$("subschemas-password").insertAfter(s)}}),e.token.hasTokensInUrl()||e.session.get(function(t){"ACTIVE"!==t.status&&e.renderEl({el:"#okta-signin-container"},function(e){console.error(e)})})}function SHA1(e){function t(e,t){return e<<t|e>>>32-t}function r(e){var t,r="";for(t=7;t>=0;t--)r+=(e>>>4*t&15).toString(16);return r}var o,n,a,s,i,c,l,d,p,m=new Array(80),u=1732584193,g=4023233417,h=2562383102,f=271733878,y=3285377520,N=(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e)).length,C=new Array;for(n=0;n<N-3;n+=4)a=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),C.push(a);switch(N%4){case 0:n=2147483648;break;case 1:n=e.charCodeAt(N-1)<<24|8388608;break;case 2:n=e.charCodeAt(N-2)<<24|e.charCodeAt(N-1)<<16|32768;break;case 3:n=e.charCodeAt(N-3)<<24|e.charCodeAt(N-2)<<16|e.charCodeAt(N-1)<<8|128}for(C.push(n);C.length%16!=14;)C.push(0);for(C.push(N>>>29),C.push(N<<3&4294967295),o=0;o<C.length;o+=16){for(n=0;n<16;n++)m[n]=C[o+n];for(n=16;n<=79;n++)m[n]=t(m[n-3]^m[n-8]^m[n-14]^m[n-16],1);for(s=u,i=g,c=h,l=f,d=y,n=0;n<=19;n++)p=t(s,5)+(i&c|~i&l)+d+m[n]+1518500249&4294967295,d=l,l=c,c=t(i,30),i=s,s=p;for(n=20;n<=39;n++)p=t(s,5)+(i^c^l)+d+m[n]+1859775393&4294967295,d=l,l=c,c=t(i,30),i=s,s=p;for(n=40;n<=59;n++)p=t(s,5)+(i&c|i&l|c&l)+d+m[n]+2400959708&4294967295,d=l,l=c,c=t(i,30),i=s,s=p;for(n=60;n<=79;n++)p=t(s,5)+(i^c^l)+d+m[n]+3395469782&4294967295,d=l,l=c,c=t(i,30),i=s,s=p;u=u+s&4294967295,g=g+i&4294967295,h=h+c&4294967295,f=f+l&4294967295,y=y+d&4294967295}return(p=r(u)+r(g)+r(h)+r(f)+r(y)).toLowerCase()}