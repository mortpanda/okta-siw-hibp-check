var strResponse,arrLines,strMatchedPW;function OktaWidget(){const e=new OktaSignIn({logo:"https://www.okta.com/sites/default/files/media/image/2021-03/Logo_Okta_Blue_RGB.png",language:"ja",colors:{brand:"#00297A"},i18n:{en:{"primaryauth.title":"Log In","primaryauth.submit":"Log In"}},features:{registration:!0,rememberMe:!1},baseUrl:"https://csm-apac.oktapreview.com",redirectUri:"https://mortpanda.github.io/okta-siw-hibp-check/",clientId:"0oa17rxjm2Fgi4yT31d7",authParams:{issuer:"https://csm-apac.oktapreview.comoauth2/default",issuer:"default",responseType:["token","id_token"],responseMode:"fragment",display:"page",scope:["openid","email","profile"]},registration:{parseSchema:function(e,t,r){console.log(e.profileSchema),t(e)},preSubmit:function(e,t,r){const n=document.getElementById("console");document.getElementById("console").innerHTML=" ",document.getElementsByName("email"),document.getElementsByName("firstName"),document.getElementsByName("lastName");var o=SHA1(document.getElementsByName("password")[0].value),a=o.substring(0,5),s=o.substring(5,999),c=new XMLHttpRequest;c.responseType="text",c.onreadystatechange=function(){if(4==this.readyState&&200==this.status){for(hbipres=this.responseText,lines=hbipres.split("\n"),i=0;i<lines.length;i++){document.getElementById("console").innerHTML+="<font color=white>&nbsp&nbsp"+lines[i]+"<br>";var e=(arrLines=lines[i].split(":"))[0].toUpperCase(),t=s.toUpperCase();n.scrollTop=n.scrollHeight,t==e&&(strMatchedPW=arrLines[1],document.getElementById("console").innerHTML+="<font color=red>&nbsp&nbsp"+lines[i]+"<br>")}document.getElementById("console").innerHTML+="&nbsp&nbsp<br><br><br><br><h1 style='padding: 15px'>  \u5165\u529b\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u306fHIBMP\u4e0a\u3067 <font color=red>"+strMatchedPW+"<font color=white> \u56de\u6f0f\u6d29\u3057\u3066\u3044\u308b\u5c65\u6b74\u304c\u3042\u308a\u307e\u3059\u3002</h1>",document.getElementById("console").innerHTML+="&nbsp&nbsp<br><br><br><br><h1 style='padding: 15px'>  \u5165\u529b\u3055\u308c\u305f\u30d1\u30b9\u30ef\u30fc\u30c9\u306e\u30cf\u30c3\u30b7\u30e5\u5024\u306f <font color=red>"+t+"<font color=white> \u3067\u3059\u3002</h2>",n.scrollTop=n.scrollHeight}},c.open("GET","https://api.pwnedpasswords.com/range/"+a,!0),c.send()},postSubmit:function(e,t,r){t(e)}}});e.on("afterRender",function(e){if(console.log(e.controller),"registration"==e.controller){var t=document.getElementsByName("firstName")[0],r=document.getElementsByName("lastName")[0],n=document.getElementsByName("email")[0],o=document.getElementsByName("password")[0],a=document.getElementsByName("acceptedPrivacyPolicy")[0],s=o.parentNode.parentNode.parentNode,i=t.parentNode.parentNode.parentNode,c=r.parentNode.parentNode.parentNode,d=n.parentNode.parentNode.parentNode;a.parentNode.parentNode.parentNode.style.display="none",$(c).insertAfter(i),$(d).insertAfter(c),$(s).insertAfter(d),$("subschemas-password").insertAfter(s)}}),e.token.hasTokensInUrl()||e.session.get(function(t){"ACTIVE"!==t.status&&e.renderEl({el:"#okta-signin-container"},function(e){console.error(e)})})}function SHA1(e){function t(e,t){return e<<t|e>>>32-t}function r(e){var t,r="";for(t=7;t>=0;t--)r+=(e>>>4*t&15).toString(16);return r}var n,o,a,s,i,c,d,l,p,m=new Array(80),h=1732584193,u=4023233417,g=2562383102,f=271733878,b=3285377520,y=(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e)).length,N=new Array;for(o=0;o<y-3;o+=4)a=e.charCodeAt(o)<<24|e.charCodeAt(o+1)<<16|e.charCodeAt(o+2)<<8|e.charCodeAt(o+3),N.push(a);switch(y%4){case 0:o=2147483648;break;case 1:o=e.charCodeAt(y-1)<<24|8388608;break;case 2:o=e.charCodeAt(y-2)<<24|e.charCodeAt(y-1)<<16|32768;break;case 3:o=e.charCodeAt(y-3)<<24|e.charCodeAt(y-2)<<16|e.charCodeAt(y-1)<<8|128}for(N.push(o);N.length%16!=14;)N.push(0);for(N.push(y>>>29),N.push(y<<3&4294967295),n=0;n<N.length;n+=16){for(o=0;o<16;o++)m[o]=N[n+o];for(o=16;o<=79;o++)m[o]=t(m[o-3]^m[o-8]^m[o-14]^m[o-16],1);for(s=h,i=u,c=g,d=f,l=b,o=0;o<=19;o++)p=t(s,5)+(i&c|~i&d)+l+m[o]+1518500249&4294967295,l=d,d=c,c=t(i,30),i=s,s=p;for(o=20;o<=39;o++)p=t(s,5)+(i^c^d)+l+m[o]+1859775393&4294967295,l=d,d=c,c=t(i,30),i=s,s=p;for(o=40;o<=59;o++)p=t(s,5)+(i&c|i&d|c&d)+l+m[o]+2400959708&4294967295,l=d,d=c,c=t(i,30),i=s,s=p;for(o=60;o<=79;o++)p=t(s,5)+(i^c^d)+l+m[o]+3395469782&4294967295,l=d,d=c,c=t(i,30),i=s,s=p;h=h+s&4294967295,u=u+i&4294967295,g=g+c&4294967295,f=f+d&4294967295,b=b+l&4294967295}return(p=r(h)+r(u)+r(g)+r(f)+r(b)).toLowerCase()}